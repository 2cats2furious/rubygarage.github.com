<section id="nested" class="slide">
  <h2>Nested Resources</h2>
  
  app/models/user.rb
  <script type="syntaxhighlighter" class="brush: ruby">
    class User < ActiveRecord::Base
      has_many :posts
    end
  </script>
  
  app/models/post.rb
  <script type="syntaxhighlighter" class="brush: ruby">
    class Post < ActiveRecord::Base
      belongs_to :user
    end
  </script>

  config/routes.rb
  <script type="syntaxhighlighter" class="brush: ruby">
    resources :users do
      resources :posts
    end
  </script>

  <div id="nested-urls" class="slide">
    <table>
      <tr>
        <th>Prefix</th>
        <th>Verb</th>
        <th>URI Pattern</th>
        <th>Controller#Action</th>
      </tr>
      <tr>
        <td>user_posts</td>
        <td>GET</td>
        <td>/users/:user_id/posts(.:format)</td>
        <td>posts#index</td>
      </tr>
      <tr>
        <td></td>
        <td>POST</td>
        <td>/users/:user_id/posts(.:format)</td>
        <td>posts#create</td>
      </tr>
      <tr>
        <td>new_user_post</td>
        <td>GET</td>
        <td>/users/:user_id/posts/new(.:format)</td>
        <td>posts#new</td>
      </tr>
      <tr>
        <td>edit_user_post</td>
        <td>GET</td>
        <td>/users/:user_id/posts/:id/edit(.:format)</td>
        <td>posts#edit</td>
      </tr>
      <tr>
        <td>user_post</td>
        <td>GET</td>
        <td>/users/:user_id/posts/:id(.:format)</td>
        <td>posts#show</td>
      </tr>
      <tr>
        <td></td>
        <td>PATCH</td>
        <td>/users/:user_id/posts/:id(.:format)</td>
        <td>posts#update</td>
      </tr>
      <tr>
        <td></td>
        <td>PUT</td>
        <td>/users/:user_id/posts/:id(.:format)</td>
        <td>posts#update</td>
      </tr>
      <tr>
        <td></td>
        <td>DELETE</td>
        <td>/users/:user_id/posts/:id(.:format)</td>
        <td>posts#destroy</td>
      </tr>
    </table>
  </div>
</section>
