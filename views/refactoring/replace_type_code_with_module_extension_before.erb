<section id="replace-type-code-with-module-extension-before" class="slide">
  <h3>Replace Type Code With Module Extension</h3>
  <script type="syntaxhighlighter" class="brush: ruby">
    class Employee
      def initialize(type: :regular)
        @type = type
      end

      def base_salary
        500.0
      end

      def salary
        base_salary + bonus
      end

      private

      def self.build(type: :regular)
        new type: type
      end

      def bonus
        value = case @type
          when :regular then 0
          when :boss    then 1500.0
          when :manager then 800.0
        end
      end
    end
  </script>
</section>